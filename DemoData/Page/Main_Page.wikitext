<div style="max-width:1200px; font-size: 1.15rem">
Welcome to the NeoWiki demo wiki!

NeoWiki is in the experimental proof of concept phase. It is not production ready, public interfaces will change,
big structural changes will happen, and key functionality is still missing.

This demo exists to gather feedback to inform further development. ([https://professional.wiki/en/contact Contact Professional Wiki])

NeoWiki turns your wiki into a collaborative graph database by letting you store and query structured information.
Information is stored in versioned document form inside of wiki pages. The latest version is also stored in
graph databases via which it can be queried.
</div>

== Discover NeoWiki Step by Step ==

(This section is WIP. TODO: add links)

As a reader:

* View a Subject
* View a Schema

As an editor:

* Edit a Subject
* Edit a Schema
* Create a Subject

As a developer:

* View Subject JSON
* [#Write_endpoints Explore the REST API]

== Demo pages ==

* Simple page with automatic infobox and edit form: [[NeoWiki]], [[ProWiki]]
* Subject with relations: [[Professional Wiki]]
* Multiple subjects per page: [[F_capture_actuals]], [[ACME Inc]]
* Wikibase Statement emulation: [[Berlin]]
* Displaying data from other pages: [[Company Infoboxes]]
* [[Reactive UI example]]
* [[Cypher query examples]]
* [[Lua examples]]

=== Schemas ===

Schemas allow you to define the structure of your data. For instance, you can define that a Employee has a
compensation in EUR with a value between 0 and 1000000.

* [[Schema:Company]]
* [[Schema:Product]]
* [[Schema:Employee]]
* [[Schema:Everything]]
* [{{fullurl:Special:AllPages|from=&to=&namespace=7474}} View all schemas]

== How To ==

* '''View or edit Subject JSON directly''': NeoWiki can be used without understanding what JSON is, and the
  JSON is not normally shown. However, as a technical person, you can access it via the REST API or the
  "View or edit JSON" link at the bottom of pages with Subjects. The latter is a development utility that
  would not be available on production wikis. TODO: unify with "Discover NeoWiki Step by Step"

== REST API endpoints ==

We will have OpenAPI docs later. For now, you can find a complete and up-to-date list by looking at the
[https://github.com/ProfessionalWiki/NeoWiki/blob/master/extension.json MediaWiki API route definitions].
Search for "RestRoutes".

Example URL: https://neo.professional.wiki/w/rest.php/neowiki/v0/subject/s1demo4sssssss1

=== Read endpoints ===

* <code>GET /neowiki/v0/subject/{subjectId}</code> Gets the JSON definition of a subject
* <code>GET /neowiki/v0/schema/{schemaName}</code> Gets the JSON definition of a schema

=== Write endpoints ===

These require a CSRF token, first obtained via <code>api.php?action=query&format=json&meta=tokens&type=csrf</code>

* <code>POST /neowiki/v0/page/{pageId}/mainSubject</code> Creates a new main subject
* <code>POST /neowiki/v0/page/{pageId}/childSubjects</code> Creates a new child subject
* <code>PATCH /neowiki/v0/subject/{subjectId}</code> Updates a subject
* <code>DELETE /neowiki/v0/subject/{subjectId}</code> Deletes a subject

These endpoints are designed for the NeoWiki frontend. They are not a complete general purpose API yet.
